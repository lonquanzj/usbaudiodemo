/***********************************************************************************************************************
*                                 Copyright (c) 2013,深圳创成微电子<-All rights reserved->
*               
**----------------------------------------------------------------------------------------------------------------------
*   文件名称：   plugin_common.h
*   简要描述:    插件通用子函数 
*
**----------------------------------------------------------------------------------------------------------------------
*   当前版本：   V1.0
*   作者/修改者：王自振
*   完成日期：   2014年10月30日
**----------------------------------------------------------------------------------------------------------------------
*   取代版本：
*   原作者  ：
*   完成日期：
***********************************************************************************************************************/
#ifndef __PLUGIN_COMMON_H__
#define __PLUGIN_COMMON_H__

#include "math.h"

/***********************************************************************************************************************
** 常用常数声明
***********************************************************************************************************************/
#define pi	3.141592653589793
#define dbk	19.9315685693241740 
#define FS	48000 
#define FN	24000
#define SAMPLES_PER_MSEC	48
#define SAMPLES_PER_SEC		FS

/***********************************************************************************************************************
** 数据类型声明
***********************************************************************************************************************/
typedef unsigned char  byte;        /*字节 8bit  */
typedef unsigned short word;        /*单字 16bit */
typedef unsigned long  dword;       /*双字 32bit */

#define GET_TRAM_ADDR(t,x)    (t = (dword)x)                            /*  获取延时线寄存器操作的地址 */

/***********************************************************************************************************************
* 全局变量声明 (缓存更改过的Gpr和Sram)
***********************************************************************************************************************/
extern word Sram_len;
extern word Gpr_len;
extern word Gpr_buffer[64][4];
extern word Sram_buffer[64][4];

/***********************************************************************************************************************
** 通用子函数声明
***********************************************************************************************************************/
extern double dBtoG(double x);
extern double cBtoG(double x);
extern dword _dbl_to_dspword(double x);
extern double calc_gain(double len_samp, double time_s);

extern void SetDspRegister(word add, dword val);
extern void SetTramAddr(word add, dword val);
extern void WriteInstruction(word offset,word op,word z,word w,word x,word y);

unsigned int Get_Gpr_len(void);
unsigned int Get_ISRAM_len(void);
unsigned int Get_gpr_data(unsigned short index);
unsigned int Get_ISRAM_data(unsigned short index);

#endif  /* __PLUGIN_COMMON_H__ */
/***********************************************************************************************************************
* end of file
***********************************************************************************************************************/


